# Gitブランチ間比較ツール

## 機能概要

- 2つのgitブランチの差分となっているファイル一覧を出力
- 差分となっているファイルをフォルダ構成を保ったまま指定のフォルダにコピーをする
- 修正パッチを当てるときに、修正前のファイルと修正後のファイル（アップロード用）を作成するのに役立つ

## 利用想定OS環境

- Windows

## 開発言語

- Python

## 更新履歴

| Version | Updated Date | Description                                                             |
| :-----: | :----------: | :---------------------------------------------------------------------- |
|  0.0.1  |  2025-08-13  | 初回                                                                    |
|  0.0.2  |  2025-08-14  | ブランチを切り替えずにファイルコピーに仕様変更                          |
|  0.0.3  |  2025-08-17  | 起動用のexeファイルに対応<br>db名の定義を定数に変更<br>その他タイポ修正 |
|  0.0.4  |  2025-08-19  | 処理数が多いときに、UIスレッドが固まらないようにスレッド処理対応        |

## 仕様

- ブランチ間の差分を確認するgitリポジトリのあるフォルダを選択する
  - エクスプローラでフォルダを指定する機能がある
  - .gitが存在していることを確認する
- 差分一覧及び差分ファイル一式を格納するフォルダを選択する
  - エクスプローラでフォルダを指定する
- ローカルで追跡しているgitブランチ一覧を取得する
- 2つのブランチを指定して、差分を確認する
  - 差分一覧をテキストファイルで出力
  - 差分一覧をもとに2つのブランチからファイルを指定したフォルダにコピーする
- フォルダ及びブランチ一覧はファイルで記憶するため、次回以降は同じフォルダが指定された状態で起動する

## おすすめポイント

- 2つのブランチの比較からファイルコピーまで自動で行う
- 以下の作業を自動化している
  - ブランチ間の比較
    - `git diff --name-only <branchA> <branchB>`
  - ~~ブランチの切り替えとコピー~~
    - ~~`git switch <branchA>`~~
    - ~~差分ファイル読み込み→branchAから指定フォルダへファイルのコピー~~
    - ~~`git switch <branchB>`~~
    - ~~差分ファイル読み込み→branchBから指定フォルダへファイルのコピー~~
  - ブランチ間の差分をブランチを切り替えずに取得して指定フォルダにコピー
    - ※編集中のファイルはコピー対象にはなりません（コミット済みのファイルが対象）

## TODO:

- ワークスペースの削除、名前変更機能
- コミット間の比較ができるようにする
  - 最近のコミットを取得する（件数指定）
    - DBに登録、コンボボックスに表示（コミット日時、コミット者、コメント、ID）
    - HEAD, HEAD~, HEAD~2はデフォルトで含める
  - `git diff コミットID コミットID`
  - `git show コミットID:ファイル名 > ファイル名`
- 多言語対応（英語は対応を検討中）
- gitコマンドなどの実行ログを表示できるように改良を検討（現状ターミナルを見ないとエラーなどが見れない）
- データベース処理をベースとテーブルごとのクラスに分けて可読性とメンテナンス性の向上
